# FactoryAI 智工助手 - 产品设计文档 v2.0

## 版本：v2.0 完整版

---

## 一、用户体系

### 三层结构

| 层级 | 名称 | 职责 | 权限 |
|-----|------|------|------|
| L3 | **决策层** | 高层管理 | 查看全局、发布重要指令 |
| L2 | **管理层** | 主管/课长 | 分配任务、审核、团队管理 |
| L1 | **执行层** | 工程师 | 执行任务、记录 |

### 工种分类

| 工种 | 代码 | 说明 |
|-----|------|------|
| 生产管理 | producer | 生管工程师 |
| 设备维护 | equipment | 设备工程师 |
| 品质管控 | quality | 品保工程师 |
| 工艺工程 | process | 工艺工程师 |
| 制造工程 | manufacturing | 制造工程师 |

---

## 二、权限关系

```
决策层(L3)
    ↓ 发布指令
管理层(L2)
    ↓ 分配任务
执行层(L1)
    ↓ 执行任务
```

### 具体规则

- **决策层**：可以看到所有部门数据，发布公司级指令
- **管理层**：只能看到自己团队的人，分配任务给自己下属
- **执行层**：只能看到自己被分配的任务

---

## 三、核心功能

### 1. 用户管理（管理员）
- 添加/编辑/删除用户
- 设置用户名、密码
- 设置工种、等级
- 设置直属主管（用于任务分配）

### 2. 任务分配
- 主管只能分配给直接下属
- 执行层只能接收任务

### 3. 任务执行
- 按步骤执行
- 完成后记录

### 4. 指令下达
- 决策层发布指令给管理层

---

## 四、数据结构

### 用户表
```json
{
  "id": "u001",
  "username": "张三",
  "password": "123456",
  "role": "producer",
  "level": 1,
  "levelName": "执行层",
  "supervisor": "u010"
}
```

### 任务表
```json
{
  "id": "t001",
  "title": "设备点检",
  "assignee": "u001",
  "supervisor": "u010",
  "status": "pending",
  "steps": [...]
}
```

---

*创建时间：2026-02-19*
*版本：v2.0*
